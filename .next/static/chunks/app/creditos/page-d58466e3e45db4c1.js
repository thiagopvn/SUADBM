(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[908],{1482:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},21309:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(95155),s=a(12115),i=a(35695),l=a(69758),o=a(88482),n=a(88145),c=a(53999),d=a(84616),x=a(47924),m=a(1482),u=a(89578),p=a(54416),g=a(62525);function h(e){var t,a,i;let{onSubmit:l,onCancel:o,initialData:n,isEditing:c=!1,creditosAnteriores:x=[]}=e,[m,u]=(0,s.useState)({creditoCodigo:(null==n?void 0:n.creditoCodigo)||"",anoExercicio:(null==n?void 0:n.anoExercicio)||new Date().getFullYear(),valorGlobal:(null==n?void 0:n.valorGlobal)||0,natureza:(null==n?void 0:n.natureza)||"",dataLancamento:(null==n?void 0:n.dataLancamento)||new Date().toISOString().split("T")[0]}),[h,b]=(0,s.useState)((null==n?void 0:n.eixos)||[]),[v,f]=(0,s.useState)((null==n||null==(t=n.origem)?void 0:t.tipo)||"Ano vigente"),[y,j]=(0,s.useState)((null==n||null==(a=n.origem)?void 0:a.tipo)==="Ano vigente"?n.origem.descricao:"Descentraliza\xe7\xe3o de cr\xe9dito original para o ano vigente vindo de Bras\xedlia"),[N,w]=(0,s.useState)((null==n||null==(i=n.origem)?void 0:i.tipo)==="Anos anteriores"?n.origem.creditosAnteriores:[]),[C,k]=(0,s.useState)(!1),[A,E]=(0,s.useState)({}),S=()=>{w([...N,""])},D=async e=>{if(e.preventDefault(),(()=>{let e={};return m.creditoCodigo.trim()||(e.creditoCodigo="C\xf3digo do cr\xe9dito \xe9 obrigat\xf3rio"),(m.anoExercicio<2e3||m.anoExercicio>2100)&&(e.anoExercicio="Ano do exerc\xedcio deve estar entre 2000 e 2100"),m.valorGlobal<=0&&(e.valorGlobal="Valor global deve ser maior que zero"),0===h.length&&(e.eixos="Selecione pelo menos um eixo"),m.natureza.trim()||(e.natureza="Natureza \xe9 obrigat\xf3ria"),m.dataLancamento||(e.dataLancamento="Data de lan\xe7amento \xe9 obrigat\xf3ria"),"Ano vigente"===v?y.trim()||(e.origemOriginal="Descri\xe7\xe3o da origem \xe9 obrigat\xf3ria"):"Anos anteriores"===v&&(0===N.length||N.some(e=>!e.trim()))&&(e.creditosAnteriores="Selecione pelo menos um cr\xe9dito anterior v\xe1lido"),E(e),0===Object.keys(e).length})())try{k(!0);let e="Ano vigente"===v?{tipo:"Ano vigente",descricao:y}:{tipo:"Anos anteriores",creditosAnteriores:N.filter(e=>e.trim())},t={...m,eixos:h,origem:e,dataLancamento:m.dataLancamento};await l(t)}catch(e){console.error("Error submitting form:",e)}finally{k(!1)}},V=(e,t)=>{u(a=>({...a,[e]:t})),A[e]&&E(t=>({...t,[e]:""}))};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:c?"Editar Cr\xe9dito":"Novo Cr\xe9dito"}),(0,r.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(p.A,{className:"w-5 h-5"})})]}),(0,r.jsxs)("form",{onSubmit:D,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"border-b pb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informa\xe7\xf5es B\xe1sicas"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C\xf3digo do Cr\xe9dito *"}),(0,r.jsx)("input",{type:"text",value:m.creditoCodigo,onChange:e=>V("creditoCodigo",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(A.creditoCodigo?"border-red-500":"border-gray-300"),placeholder:"Ex: 2024DC00001"}),A.creditoCodigo&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.creditoCodigo})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ano do Exerc\xedcio *"}),(0,r.jsx)("input",{type:"number",value:m.anoExercicio,onChange:e=>V("anoExercicio",parseInt(e.target.value)),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(A.anoExercicio?"border-red-500":"border-gray-300"),min:"2000",max:"2100"}),A.anoExercicio&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.anoExercicio})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Global (R$) *"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:m.valorGlobal,onChange:e=>V("valorGlobal",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(A.valorGlobal?"border-red-500":"border-gray-300"),min:"0"}),A.valorGlobal&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.valorGlobal})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Lan\xe7amento *"}),(0,r.jsx)("input",{type:"date",value:m.dataLancamento,onChange:e=>V("dataLancamento",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(A.dataLancamento?"border-red-500":"border-gray-300"),max:new Date().toISOString().split("T")[0]}),A.dataLancamento&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.dataLancamento}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Esta data inicia o ciclo de presta\xe7\xe3o de contas a cada 4 meses"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Eixos *"}),(0,r.jsx)("div",{className:"space-y-2",children:["Valoriza\xe7\xe3o dos Profissionais de Seguran\xe7a P\xfablica (VPS)","Enfrentamento \xe0 Criminalidade Violenta (ECV)","Fortalecimento das Institui\xe7\xf5es de Seguran\xe7a P\xfablica e Defesa Social (FISPDS)","Redu\xe7\xe3o de Mortes Violentas Intencionais e combate ao crime organizado (RMVI)","Enfrentamento \xe0 Viol\xeancia contra a Mulher (EVM)","Melhoria da Qualidade de Vida dos Profissionais de Seguran\xe7a P\xfablica (MQV)"].map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:h.includes(e),onChange:t=>{t.target.checked?b([...h,e]):b(h.filter(t=>t!==e)),A.eixos&&E(e=>({...e,eixos:""}))},className:"mr-3 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))}),A.eixos&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.eixos}),h.length>0&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Eixos selecionados:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:h.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.split("(")[0].trim(),(0,r.jsx)("button",{type:"button",onClick:()=>{b(h.filter(t=>t!==e))},className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]},e))})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Natureza *"}),(0,r.jsx)("input",{type:"text",value:m.natureza,onChange:e=>V("natureza",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(A.natureza?"border-red-500":"border-gray-300"),placeholder:"Ex: I-449000"}),A.natureza&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.natureza})]})]}),(0,r.jsxs)("div",{className:"border-b pb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Origem do Cr\xe9dito"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Origem *"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",value:"Ano vigente",checked:"Ano vigente"===v,onChange:e=>f(e.target.value),className:"mr-2"}),"Ano vigente"]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",value:"Anos anteriores",checked:"Anos anteriores"===v,onChange:e=>f(e.target.value),className:"mr-2"}),"Anos anteriores"]})]})]}),"Ano vigente"===v&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o da Origem *"}),(0,r.jsx)("textarea",{value:y,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(A.origemOriginal?"border-red-500":"border-gray-300"),placeholder:"Descreva a origem do cr\xe9dito (ex: descentraliza\xe7\xe3o de Bras\xedlia)",rows:2}),A.origemOriginal&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.origemOriginal})]}),"Anos anteriores"===v&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cr\xe9ditos de Anos Anteriores *"}),(0,r.jsxs)("button",{type:"button",onClick:S,className:"flex items-center gap-2 px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700",children:[(0,r.jsx)(d.A,{className:"w-3 h-3"}),"Adicionar"]})]}),(0,r.jsx)("div",{className:"space-y-2",children:N.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsxs)("select",{value:e,onChange:e=>((e,t)=>{let a=[...N];a[e]=t,w(a)})(t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Selecione um cr\xe9dito anterior"}),x.filter(e=>e.anoExercicio<m.anoExercicio).map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.creditoCodigo," (",e.anoExercicio,") - ",e.valorGlobal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]},e.id))]}),N.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>{w(N.filter((e,a)=>a!==t))},className:"p-2 text-red-600 hover:text-red-800",children:(0,r.jsx)(g.A,{className:"w-4 h-4"})})]},t))}),0===N.length&&(0,r.jsx)("button",{type:"button",onClick:S,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-gray-400 hover:text-gray-700",children:"Clique para adicionar um cr\xe9dito anterior"}),A.creditosAnteriores&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.creditosAnteriores})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",disabled:C,children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:C,children:C?"Salvando...":c?"Salvar Altera\xe7\xf5es":"Criar Cr\xe9dito"})]})]})]})})}function b(){let e=(0,i.useRouter)(),{creditos:t,creditosWithCalculations:a,loading:p,error:g,createCredito:b}=(0,u.$)(),[v,f]=(0,s.useState)([]),[y,j]=(0,s.useState)(""),[N,w]=(0,s.useState)("todos"),[C,k]=(0,s.useState)(!1);(0,s.useEffect)(()=>{f(a)},[a]),(0,s.useEffect)(()=>{let e=a;y&&(e=e.filter(e=>e.creditoCodigo.toLowerCase().includes(y.toLowerCase())||e.eixos&&e.eixos.some(e=>e.toLowerCase().includes(y.toLowerCase())))),"todos"!==N&&(e=e.filter(e=>e.anoExercicio.toString()===N)),f(e)},[y,N,a]);let A=[...new Set(a.map(e=>e.anoExercicio))].sort((e,t)=>t-e),E=async e=>{try{await b(e),k(!1)}catch(e){console.error("Failed to create credito:",e)}};return p?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(l.F,{}),(0,r.jsx)("main",{className:"w-full py-6 px-8",children:(0,r.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"text-gray-500",children:"Carregando cr\xe9ditos..."})})})})]}):g?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(l.F,{}),(0,r.jsx)("main",{className:"w-full py-6 px-8",children:(0,r.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsxs)("div",{className:"text-red-500",children:["Erro ao carregar cr\xe9ditos: ",g]})})})})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(l.F,{}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Gest\xe3o de Cr\xe9ditos"}),(0,r.jsxs)("button",{onClick:()=>k(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center gap-2",children:[(0,r.jsx)(d.A,{className:"w-4 h-4"}),"Adicionar Novo Cr\xe9dito"]})]}),(0,r.jsx)(o.Zp,{className:"mb-6",children:(0,r.jsx)(o.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,r.jsx)("input",{type:"text",placeholder:"Pesquisar por c\xf3digo ou a\xe7\xe3o/eixo...",className:"w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:y,onChange:e=>j(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"text-gray-400 w-4 h-4"}),(0,r.jsxs)("select",{className:"border rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:N,onChange:e=>w(e.target.value),children:[(0,r.jsx)("option",{value:"todos",children:"Todos os anos"}),A.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]})]})})}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ano"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"C\xf3digo do Cr\xe9dito"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Eixos"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origem"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Global"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Empenhado"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Pago"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Saldo Dispon\xedvel"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(t=>{var a,s;let i=(t.saldoDisponivel/t.valorGlobal*100).toFixed(0),l=parseInt(i)>50?"Dispon\xedvel":parseInt(i)>20?"Aten\xe7\xe3o":"Cr\xedtico";return(0,r.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e.push("/creditos/".concat(t.id)),children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.anoExercicio}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.creditoCodigo}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:(t.eixos||[]).map((e,t)=>(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",title:e,children:e.split("(")[0].trim()},t))})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(0,r.jsx)(n.E,{variant:(null==(a=t.origem)?void 0:a.tipo)==="Ano vigente"?"default":"secondary",children:(null==(s=t.origem)?void 0:s.tipo)==="Ano vigente"?"Ano vigente":"Anos anteriores"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,c.vv)(t.valorGlobal)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-yellow-600",children:(0,c.vv)(t.valorEmpenhado)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:(0,c.vv)(t.valorPago)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:(0,c.vv)(t.saldoDisponivel)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)(n.E,{variant:"Dispon\xedvel"===l?"default":"Aten\xe7\xe3o"===l?"secondary":"destructive",children:[i,"% - ",l]})})]},t.id)})})]})}),0===v.length&&!p&&(0,r.jsx)("div",{className:"bg-white shadow rounded-md p-8 text-center",children:(0,r.jsx)("div",{className:"text-gray-500",children:0===a.length?"Nenhum cr\xe9dito encontrado. Adicione o primeiro cr\xe9dito!":"Nenhum cr\xe9dito corresponde aos filtros aplicados."})})]})}),C&&(0,r.jsx)(h,{onSubmit:E,onCancel:()=>k(!1),creditosAnteriores:Object.values(t)})]})}},48819:(e,t,a)=>{Promise.resolve().then(a.bind(a,21309))},54416:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},62525:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},74466:(e,t,a)=>{"use strict";a.d(t,{F:()=>l});var r=a(52596);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=r.$,l=(e,t)=>a=>{var r;if((null==t?void 0:t.variants)==null)return i(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:l,defaultVariants:o}=t,n=Object.keys(l).map(e=>{let t=null==a?void 0:a[e],r=null==o?void 0:o[e];if(null===t)return null;let i=s(t)||s(r);return l[e][i]}),c=a&&Object.entries(a).reduce((e,t)=>{let[a,r]=t;return void 0===r||(e[a]=r),e},{});return i(e,n,null==t||null==(r=t.compoundVariants)?void 0:r.reduce((e,t)=>{let{class:a,className:r,...s}=t;return Object.entries(s).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...o,...c}[t]):({...o,...c})[t]===a})?[...e,a,r]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)}},84616:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88145:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(95155),s=a(53999);let i=(0,a(74466).F)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800",warning:"border-transparent bg-yellow-100 text-yellow-800",info:"border-transparent bg-blue-100 text-blue-800"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...l}=e;return(0,r.jsx)("div",{className:(0,s.cn)(i({variant:a}),t),...l})}},88482:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>n,ZB:()=>o,Zp:()=>i,aR:()=>l});var r=a(95155),s=a(53999);function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("h3",{className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})}function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,s.cn)("p-6 pt-0",t),...a})}},89578:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});var r=a(12115),s=a(32401);function i(){let[e,t]=(0,r.useState)({}),[a,i]=(0,r.useState)([]),[l,o]=(0,r.useState)(!0),[n,c]=(0,r.useState)(null),d=(0,r.useCallback)(async()=>{try{o(!0),c(null);let[e,a]=await Promise.all([s.J.getAllCreditos(),s.J.getCreditosWithCalculations()]);t(e),i(a)}catch(e){c(e instanceof Error?e.message:"Failed to fetch credits")}finally{o(!1)}},[]),x=(0,r.useCallback)(async e=>{try{c(null);let t=await s.J.createCredito(e);return await d(),t}catch(e){throw c(e instanceof Error?e.message:"Failed to create credit"),e}},[d]),m=(0,r.useCallback)(async(e,t)=>{try{c(null),await s.J.updateCredito(e,t),await d()}catch(e){throw c(e instanceof Error?e.message:"Failed to update credit"),e}},[d]),u=(0,r.useCallback)(async e=>{try{c(null),await s.J.deleteCredito(e),await d()}catch(e){throw c(e instanceof Error?e.message:"Failed to delete credit"),e}},[d]),p=(0,r.useCallback)(()=>a.filter(e=>e.saldoDisponivel>0),[a]);return(0,r.useEffect)(()=>{d()},[d]),{creditos:e,creditosWithCalculations:a,creditosDisponiveis:p(),loading:l,error:n,refetch:d,createCredito:x,updateCredito:m,deleteCredito:u}}}},e=>{e.O(0,[507,811,456,960,441,964,358],()=>e(e.s=48819)),_N_E=e.O()}]);